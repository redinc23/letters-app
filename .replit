# ============================================
# Letters App - Replit Configuration (Modules Approach)
# ============================================
# Modern Replit configuration using modules

# Modules configuration (modern approach)
[modules]
# Use Node.js module (Node.js 20 for better performance)
nodejs = "20"

# Run configuration
[run]
command = "npm run dev"

# Entry point
entrypoint = "src/app/page.tsx"

# Environment variables
# Note: Sensitive values should be in Replit Secrets (ðŸ”’ tab)
[env]
NODE_ENV = "production"
PORT = "3000"
# DATABASE_URL is set via Secrets
# NEXTAUTH_URL is set via Secrets
# NEXTAUTH_SECRET is set via Secrets

# Always On configuration (keeps app running)
alwaysOn = true

# Deployment configuration
[deploy]
run = ["sh", "-c", "npm run build && npm start"]
publicDir = ".next"

# Language Server Protocol (LSP) configuration
[languages.javascript]
pattern = "**/*.{js,jsx,ts,tsx}"

[languages.javascript.languageServer]
start = "typescript-language-server --stdio"

# TypeScript configuration
[languages.typescript]
pattern = "**/*.{ts,tsx}"

# Unit test configuration
[unitTest]
language = "nodejs"
testCommand = "npm test"

# Git configuration for GitHub imports
[gitHubImport]
requiredFiles = [".replit", "replit.nix", ".gitignore", "package.json"]

# Nix package configuration
[nix]
channel = "stable-24_05"

# Debugger configuration
[debugger]
support = true
transport = "localhost"
startCommand = "npm run dev"

# Agent configuration
[agent]
expertMode = true

# ============================================
# Letters App - Replit Configuration
# ============================================
# This file configures how Replit runs your app

# Language and runtime
language = "nodejs"

# Development command (when clicking "Run")
run = "npm run dev"

# Entry point for the application
entrypoint = "src/app/page.tsx"

# Environment variables
# Note: Sensitive values should be in Replit Secrets (ðŸ”’ tab)
[env]
NODE_ENV = "production"
PORT = "3000"
# DATABASE_URL is set via Secrets
# NEXTAUTH_URL is set via Secrets
# NEXTAUTH_SECRET is set via Secrets

# Always On configuration (keeps app running)
# Set to true for production deployments
alwaysOn = true

# Deployment configuration
# This runs when you deploy or use "Always On"
[deploy]
# Build and start production server
run = ["sh", "-c", "npm run build && npm start"]
# Public directory for static files
publicDir = ".next"

# Language Server Protocol (LSP) configuration
# Provides IntelliSense and code completion
[languages.javascript]
pattern = "**/*.{js,jsx,ts,tsx}"

[languages.javascript.languageServer]
start = "typescript-language-server --stdio"

# TypeScript configuration
[languages.typescript]
pattern = "**/*.{ts,tsx}"

# Unit test configuration
[unitTest]
language = "nodejs"
testCommand = "npm test"

# Git configuration for GitHub imports
[gitHubImport]
requiredFiles = [".replit", "replit.nix", ".gitignore", "package.json"]

# Nix package configuration
# Specifies which system packages are available
[nix]
channel = "stable-22_11"

# Debugger configuration
[debugger]
support = true
transport = "localhost"
startCommand = "npm run dev"

# LSP for better code intelligence
[languages.javascript.languageServer]
start = "typescript-language-server --stdio"

